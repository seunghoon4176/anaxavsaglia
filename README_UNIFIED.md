# 2D 멀티플레이어 격투 게임 - 통합 서버 버전

## 📖 개요

이제 **하나의 통합 서버**로 로비와 게임 기능을 모두 처리합니다! 더 간단하고 관리하기 쉬워졌어요.

## 🎯 주요 변경사항

### ✅ **통합 서버 구조**
- **기존**: 로비 서버 + 게임 서버 (2개)
- **현재**: 통합 서버 (1개) - 로비 + 게임 기능 통합

### 🔧 **새로운 파일들**
- `unified_server.py` - 로비와 게임을 모두 처리하는 통합 서버
- `unified_launcher.py` - 통합 서버용 클라이언트 런처
- `run_unified_server.sh` / `run_unified_server.bat` - 통합 서버 실행 스크립트

## 🚀 실행 방법

### 1. 통합 서버 실행
```bash
# Windows
run_unified_server.bat

# Linux/Mac
chmod +x run_unified_server.sh
./run_unified_server.sh

# 직접 실행
python unified_server.py --host 0.0.0.0 --port 12345
```

### 2. 게임 런처 실행
```bash
python main.py
```

## 🏗️ 통합 서버 구조

```
통합 서버 (unified_server.py)
├── 로비 관리
│   ├── 방 생성/삭제
│   ├── 플레이어 매칭
│   └── 방 목록 제공
└── 게임 처리
    ├── 실시간 게임 진행
    ├── 플레이어 움직임
    ├── 공격/데미지 처리
    └── 승부 판정
```

## 🎮 게임 플레이

1. **런처 실행**: `python main.py`
2. **서버 연결**: localhost:12345 (기본값)
3. **플레이어 정보 설정**: 이름, 캐릭터 선택
4. **방 생성 또는 참가**
5. **2명이 모이면 자동으로 게임 시작**
6. **격투 게임 즐기기!**

## 🎯 게임 조작법

- **이동**: A/D 키 (좌/우)
- **공격**: 스페이스바
- **목표**: 상대방의 체력을 0으로 만들기
- **제한시간**: 3분 (시간 종료 시 체력 높은 플레이어 승리)

## 📋 서버 설정

### 포트 설정
```bash
python unified_server.py --host 0.0.0.0 --port 8080
```

### 외부 서버 연결
클라이언트에서 서버 주소를 변경하여 외부 서버에 연결 가능

## 🔧 배포

### 서버 배포
1. 서버에 `unified_server.py` 업로드
2. 필요한 패키지 설치: `pip install pygame PySide6`
3. 서버 실행: `python unified_server.py --host 0.0.0.0 --port 12345`
4. 방화벽에서 포트 12345 열기

### 클라이언트 배포
1. 게임 파일들을 배포
2. 클라이언트에서 서버 주소를 배포된 서버 IP로 변경
3. 게임 실행

## 🎨 특징

- **간단한 구조**: 하나의 서버로 모든 기능 처리
- **실시간 멀티플레이어**: 60 FPS 게임 상태 동기화
- **캐릭터 시스템**: anaxa/aglia 캐릭터 지원
- **방 시스템**: 방 생성, 참가, 자동 정리
- **모던 UI**: PySide6 다크 테마 인터페이스

## 🐛 문제 해결

### 서버 연결 실패
- 서버가 실행 중인지 확인
- 방화벽 설정 확인
- 포트가 사용 중이 아닌지 확인

### 게임 실행 안됨
- `game_client.py` 파일 존재 확인
- pygame 설치 확인: `pip install pygame`

## 📞 기술 지원

문제가 있으면 로그를 확인하거나 이슈를 남겨주세요!
